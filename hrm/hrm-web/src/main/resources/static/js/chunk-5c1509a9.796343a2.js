(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c1509a9"],{"0967":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-top":"10px"}},[n("span",[e._v("菜单缓存清理")]),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.clean("menu",e.menuCache)}},model:{value:e.menuCache,callback:function(t){e.menuCache=t},expression:"menuCache"}}),n("span",[e._v("所有缓存清理")]),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.clean("all",e.flushAll)}},model:{value:e.flushAll,callback:function(t){e.flushAll=t},expression:"flushAll"}}),n("span",[e._v("操作日志清理")]),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.clean("accessLog",e.accessLog)}},model:{value:e.accessLog,callback:function(t){e.accessLog=t},expression:"accessLog"}}),n("div",[n("el-container",{staticClass:"main-container"},[n("el-main",{staticClass:"app-main"},[n("el-card",[n("iframe",{staticStyle:{height:"100vh"},attrs:{src:"/druid/index.html",width:"100%",height:"100%",name:"iframe",frameborder:"0"}})])],1)],1)],1)],1)},l=[],a=n("7c15"),s={name:"SysCache",data:function(){return{menuCache:!1,flushAll:!1,accessLog:!1}},methods:{clean:function(e,t){t&&(t=!t,"menu"===e&&Object(a["b"])("/sys/cache/menuWithRole"),"all"===e&&Object(a["b"])("/sys/cache/all"),"accessLog"===e&&Object(a["a"])("/sys/access/"))}}},o=s,r=n("2877"),c=Object(r["a"])(o,i,l,!1,null,"37643ce5",null);t["default"]=c.exports},"106a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.globalLoading,expression:"globalLoading"}],staticStyle:{"margin-top":"10px"}},[n("div",{staticClass:"permissManaTool"},[n("el-input",{attrs:{size:"small",placeholder:"请输入角色英文名"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[n("template",{slot:"prepend"},[e._v("ROLE_")])],2),n("el-input",{attrs:{size:"small",placeholder:"请输入角色中文名"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doAddRole(t)}},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}}),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.doAddRole}},[e._v("添加角色")])],1),n("div",{staticClass:"permissManaMain"},[n("el-collapse",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,i){return n("el-collapse-item",{key:i,attrs:{title:t.nameZh,name:t.id}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("可访问的资源")]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#ff0000"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(n){return e.deleteRole(t)}}})],1),n("div",[n("el-tree",{key:i,ref:"tree",refInFor:!0,attrs:{"show-checkbox":"","node-key":"id","default-checked-keys":e.selectedMenus,data:e.allmenus,props:e.defaultProps}}),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("el-button",{on:{click:e.cancelUpdate}},[e._v("取消修改")]),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.doUpdate(t.id,i)}}},[e._v("确认修改")])],1)],1)])],1)})),1)],1)])},l=[],a=(n("ac6a"),n("7f7f"),{name:"SysPermission",data:function(){return{role:{name:"",nameZh:""},allmenus:[],activeName:-1,selectedMenus:[],roles:[],loading:!1,globalLoading:!1,defaultProps:{children:"children",label:"name"}}},mounted:function(){this.initRoles()},methods:{deleteRole:function(e){var t=this;this.$confirm("是否已经取消【"+e.nameZh+"】关联的菜单和用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/sys/permiss/role/"+e.id).then((function(e){e&&t.initRoles()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doAddRole:function(){var e=this;this.role.name&&this.role.nameZh?(this.globalLoading=!0,this.postRequest("/sys/permiss/role",this.role).then((function(t){e.globalLoading=!1,t&&(e.role.name="",e.role.nameZh="",e.initRoles())}))):this.$message.error("数据不可以为空")},cancelUpdate:function(){this.activeName=-1},doUpdate:function(e,t){var n=this,i=this.$refs.tree[t],l=i.getCheckedKeys(!0),a="/sys/permiss/?rid="+e;l.forEach((function(e){a+="&mids="+e})),this.putRequest(a).then((function(e){e&&(n.activeName=-1)}))},change:function(e){e&&(this.initAllMenus(),this.initSelectedMenus(e))},initSelectedMenus:function(e){var t=this;this.getRequest("/sys/permiss/mids/"+e).then((function(e){e&&(t.selectedMenus=e)}))},initAllMenus:function(){var e=this;this.getRequest("/sys/permiss/menus").then((function(t){t&&(e.allmenus=t)}))},initRoles:function(){var e=this;this.loading=!0,this.getRequest("/sys/permiss/").then((function(t){e.loading=!1,t&&(e.roles=t)}))}}}),s=a,o=(n("a8a7"),n("2877")),r=Object(o["a"])(s,i,l,!1,null,null,null);t["default"]=r.exports},"15b6":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-top":"10px",display:"flex","justify-content":"center"}},[n("el-tag",{attrs:{size:"medium"}},[e._v("请输入员工姓名:")]),n("el-input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{placeholder:"通过用户名搜索用户...","prefix-icon":"el-icon-search"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),n("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.doSearch}},[e._v("搜索")])],1),n("div",{staticClass:"hr-container"},e._l(e.hrs,(function(t,i){return n("el-card",{key:i,staticClass:"hr-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.name))]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#e30007"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteHr(t)}}})],1),n("div",[n("div",{staticClass:"img-container"},[n("img",{staticClass:"userface-img",attrs:{src:t.userface,alt:t.name,title:t.name}})]),n("div",{staticClass:"userinfo-container"},[n("div",[e._v("用户名："+e._s(t.name))]),n("div",[e._v("手机号码："+e._s(t.phone))]),n("div",[e._v("电话号码："+e._s(t.telephone))]),n("div",[e._v("地址："+e._s(t.address))]),n("div",[e._v("用户状态：\n            "),n("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},on:{change:function(n){return e.enabledChange(t)}},model:{value:t.enabled,callback:function(n){e.$set(t,"enabled",n)},expression:"hr.enabled"}})],1),n("div",[e._v("用户角色：\n            "),e._l(t.roles,(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-right":"4px"},attrs:{type:"success"}},[e._v(e._s(t.nameZh)+"\n            ")])})),n("el-popover",{attrs:{placement:"right",title:"角色列表",width:"100",trigger:"click"},on:{show:function(n){return e.showPop(t)},hide:function(n){return e.hidePop(t)}}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedRoles,callback:function(t){e.selectedRoles=t},expression:"selectedRoles"}},e._l(e.allroles,(function(e,t){return n("el-option",{key:t,attrs:{label:e.nameZh,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],2),n("div",[e._v("备注："+e._s(t.remark))])])])])})),1)])},l=[],a=(n("ac6a"),n("7f7f"),{name:"SysHr",data:function(){return{keywords:"",hrs:[],selectedRoles:[],allroles:[]}},mounted:function(){this.initHrs()},methods:{deleteHr:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/sys/hr/"+e.id).then((function(e){e&&t.initHrs()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doSearch:function(){this.initHrs()},hidePop:function(e){var t=this,n=[];Object.assign(n,e.roles);var i=!1;if(n.length!==this.selectedRoles.length)i=!0;else{for(var l=0;l<n.length;l++)for(var a=n[l],s=0;s<this.selectedRoles.length;s++){var o=this.selectedRoles[s];if(a.id===o){n.splice(l,1),l--;break}}0!==n.length&&(i=!0)}if(i){var r="/sys/hr/role?hrid="+e.id;this.selectedRoles.length>0?this.selectedRoles.forEach((function(e){r+="&rids="+e})):r+="&rids=-1",this.putRequest(r).then((function(e){e&&t.initHrs()}))}},showPop:function(e){var t=this;this.initAllRoles();var n=e.roles;this.selectedRoles=[],n.forEach((function(e){t.selectedRoles.push(e.id)}))},enabledChange:function(e){var t=this;delete e.roles,this.putRequest("/sys/hr/",e).then((function(e){e&&t.initHrs()}))},initAllRoles:function(){var e=this;this.getRequest("/sys/hr/roles").then((function(t){t&&(e.allroles=t)}))},initHrs:function(){var e=this;this.getRequest("/sys/hr/?keywords="+this.keywords).then((function(t){t&&(e.hrs=t)}))}}}),s=a,o=(n("c2a5"),n("2877")),r=Object(o["a"])(s,i,l,!1,null,null,null);t["default"]=r.exports},"3fd8":function(e,t,n){"use strict";var i=n("62d9"),l=n.n(i);l.a},"404e":function(e,t,n){},4502:function(e,t,n){"use strict";var i=n("6e7b"),l=n.n(i);l.a},"62d9":function(e,t,n){},"6e7b":function(e,t,n){},"7ae6":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-top":"10px"}},[n("div",{staticStyle:{display:"flex","justify-content":"center"}},[n("el-tag",{attrs:{size:"medium"}},[e._v("输入URI进行搜索:")]),n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"可通过URI模糊搜索",size:"mini"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.requestUri,callback:function(t){e.requestUri=t},expression:"requestUri"}}),n("el-button",{attrs:{icon:"el-icon-search",size:"mini",type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"类名"}},[n("span",[e._v(e._s(t.row.className))])]),n("el-form-item",{attrs:{label:"方法"}},[n("span",[e._v(e._s(t.row.requestMethod))])]),n("el-form-item",{attrs:{label:"参数"}},[n("span",[e._v(e._s(t.row.requestParams))])]),n("el-form-item",{attrs:{label:"客户端名"}},[n("span",[e._v(e._s(t.row.deviceName))])]),n("el-form-item",{attrs:{label:"浏览器"}},[n("span",[e._v(e._s(t.row.browserName))])]),n("el-form-item",{attrs:{label:"用户UA"}},[n("span",[e._v(e._s(t.row.userAgent))])]),n("el-form-item",{attrs:{label:"Content-Type"}},[n("span",[e._v(e._s(t.row.contentType))])]),n("el-form-item",{attrs:{label:"请求时间"}},[n("span",[e._v(e._s(t.row.requestTime))])])],1)]}}])}),n("el-table-column",{attrs:{label:"操作用户",prop:"name"}}),n("el-table-column",{attrs:{label:"客户端地址",prop:"remoteAddr"}}),n("el-table-column",{attrs:{label:"请求类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},["GET"===t.row.requestType?n("p",[e._v("GET是查询操作")]):e._e(),"POST"===t.row.requestType?n("p",[e._v("POST是新增数据")]):e._e(),"DELETE"===t.row.requestType?n("p",[e._v("DELETE是删除操作")]):e._e(),"PUT"===t.row.requestType?n("p",[e._v("PUT是更新操作")]):e._e(),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.requestType))])],1)])]}}])}),n("el-table-column",{attrs:{label:"访问的URI",prop:"requestUri"}})],1),n("div",{staticStyle:{"margin-right":"20px",display:"flex","justify-content":"center"}},[n("el-pagination",{attrs:{"page-size":1,total:e.total,"current-page":e.page,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.currentPageChanged,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.sizeChanged}})],1)],1)},l=[],a={name:"SysAccess",data:function(){return{tableData:[],loading:!0,page:1,size:10,total:10,requestUri:""}},methods:{search:function(){this.page=1,this.initTableData()},initTableData:function(){var e=this;this.loading=!0;var t="/sys/access/?page="+this.page+"&size="+this.size;""!==this.requestUri&&(t+="&requestUri="+this.requestUri),this.getRequest(t).then((function(t){t&&200===t.status&&(e.loading=!1,e.total=t.obj.total,e.tableData=t.obj.data)}))},currentPageChanged:function(e){this.page=e,this.initTableData()},sizeChanged:function(e){this.size=e,this.page=1,this.initTableData()}},mounted:function(){this.initTableData()}},s=a,o=(n("3fd8"),n("2877")),r=Object(o["a"])(s,i,l,!1,null,null,null);t["default"]=r.exports},a8a7:function(e,t,n){"use strict";var i=n("404e"),l=n.n(i);l.a},b557:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-top":"10px",width:"800px"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"添加职称...","prefix-icon":"el-icon-plus",size:"small"},model:{value:e.jl.name,callback:function(t){e.$set(e.jl,"name",t)},expression:"jl.name"}}),n("el-select",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:e.jl.titleLevel,callback:function(t){e.$set(e.jl,"titleLevel",t)},expression:"jl.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),n("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addJobLevel}},[e._v("添加")])],1),n("div",{staticStyle:{"margin-top":"10px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"80%"},attrs:{data:e.jls,stripe:"",border:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"编号",prop:"id",width:"55"}}),n("el-table-column",{attrs:{label:"职称名称",prop:"name",width:"150"}}),n("el-table-column",{attrs:{label:"职称级别",prop:"titleLevel"}}),n("el-table-column",{attrs:{label:"创建时间",prop:"createDate"}}),n("el-table-column",{attrs:{label:"是否启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):n("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.showEditView(t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return e.deleteHandler(t.row)}}},[e._v("删除")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{disabled:0==e.multipleSelection.length,size:"small",type:"danger"},on:{click:e.deleteMany}},[e._v("批量删除\n    ")])],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"修改职称",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("table",[n("tr",[n("td",[n("el-tag",[e._v("职称名")])],1),n("td",[n("el-input",{attrs:{size:"small"},model:{value:e.updateJl.name,callback:function(t){e.$set(e.updateJl,"name",t)},expression:"updateJl.name"}})],1)]),n("tr",[n("td",[n("el-tag",[e._v("职称级别")])],1),n("td",[n("el-select",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:e.updateJl.titleLevel,callback:function(t){e.$set(e.updateJl,"titleLevel",t)},expression:"updateJl.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),n("tr",[n("td",[n("el-tag",[e._v("是否启用")])],1),n("td",[n("el-switch",{attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:e.updateJl.enabled,callback:function(t){e.$set(e.updateJl,"enabled",t)},expression:"updateJl.enabled"}})],1)])])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},l=[],a=(n("7f7f"),n("ac6a"),{name:"SysJobLevel",data:function(){return{dialogVisible:!1,loading:!1,multipleSelection:[],updateJl:{name:"",titleLevel:"",enabled:!1},jl:{name:"",titleLevel:""},jls:[],titleLevels:["正高级","副高级","中级","初级","员级"]}},mounted:function(){this.initJls()},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/sys/joblevel/"+t).then((function(t){t&&e.initJls()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},doUpdate:function(){var e=this;this.putRequest("/sys/joblevel/",this.updateJl).then((function(t){t&&(e.initJls(),e.dialogVisible=!1)}))},handleSelectionChange:function(e){this.multipleSelection=e},showEditView:function(e){Object.assign(this.updateJl,e),this.dialogVisible=!0},deleteHandler:function(e){var t=this;this.$confirm("此操作将永久【"+e.name+"】职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/sys/joblevel/"+e.id).then((function(e){e&&t.initJls()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addJobLevel:function(){var e=this;this.jl.name&&this.jl.titleLevel?this.postRequest("/sys/joblevel/",this.jl).then((function(t){t&&e.initJls()})):this.$message.error("添加字段不可以为空!")},initJls:function(){var e=this;this.loading=!0,this.getRequest("/sys/joblevel/").then((function(t){e.loading=!1,t&&(e.jls=t,e.jl={name:"",titleLevel:""})}))}}}),s=a,o=n("2877"),r=Object(o["a"])(s,i,l,!1,null,"e3d48582",null);t["default"]=r.exports},c2a5:function(e,t,n){"use strict";var i=n("e6d1"),l=n.n(i);l.a},dbf4:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-top":"10px",width:"800px"}},[n("el-input",{staticClass:"addPosInput",attrs:{placeholder:"添加职位...","prefix-icon":"el-icon-plus",size:"small"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition(t)}},model:{value:e.pos.name,callback:function(t){e.$set(e.pos,"name",t)},expression:"pos.name"}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addPosition}},[e._v("添加")])],1),n("div",{staticClass:"posManaMain"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"70%"},attrs:{data:e.positions,border:"",size:"small",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"编号",prop:"id",width:"55"}}),n("el-table-column",{attrs:{label:"职位名称",prop:"name",width:"180"}}),n("el-table-column",{attrs:{label:"创建时间",prop:"createDate",width:"150"}}),n("el-table-column",{attrs:{label:"是否启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{size:"small",type:"success"}},[e._v("已启用")]):n("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("未启用")])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.showEditView(t.$index,t.row)}}},[e._v("编辑\n          ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{disabled:0==e.multipleSelection.length,size:"small",type:"danger"},on:{click:e.deleteMany}},[e._v("批量删除\n    ")])],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"修改职位",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("div",[n("el-tag",[e._v("职位名称")]),n("el-input",{staticClass:"updatePosInput",attrs:{size:"small"},model:{value:e.updatePos.name,callback:function(t){e.$set(e.updatePos,"name",t)},expression:"updatePos.name"}})],1),n("div",[n("el-tag",[e._v("是否启用")]),n("el-switch",{attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:e.updatePos.enabled,callback:function(t){e.$set(e.updatePos,"enabled",t)},expression:"updatePos.enabled"}})],1)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},l=[],a=(n("7f7f"),n("ac6a"),{name:"SysPosition",data:function(){return{pos:{name:""},dialogVisible:!1,loading:!1,updatePos:{name:"",enabled:!1},multipleSelection:[],positions:[]}},mounted:function(){this.initPositions()},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/sys/pos/"+t).then((function(t){t&&e.initPositions()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},addPosition:function(){var e=this;this.pos.name?this.postRequest("/sys/pos/",this.pos).then((function(t){t&&(e.initPositions(),e.pos.name="")})):this.$message.error("职位名称不可以为空")},showEditView:function(e,t){Object.assign(this.updatePos,t),this.dialogVisible=!0},doUpdate:function(){var e=this;this.putRequest("/sys/pos/",this.updatePos).then((function(t){t&&(e.initPositions(),e.updatePos.name="",e.dialogVisible=!1)}))},handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除【"+t.name+"】职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.deleteRequest("/sys/pos/"+t.id).then((function(e){e&&n.initPositions()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},initPositions:function(){var e=this;this.loading=!0,this.getRequest("/sys/pos/").then((function(t){e.loading=!1,t&&(e.positions=t)}))}}}),s=a,o=(n("4502"),n("2877")),r=Object(o["a"])(s,i,l,!1,null,null,null);t["default"]=r.exports},e6d1:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5c1509a9.796343a2.js.map